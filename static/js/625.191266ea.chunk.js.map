{"version":3,"file":"static/js/625.191266ea.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/esm/Send.js","components/Callus.js"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z\"\n}), 'Send');","import React, { useState } from 'react';\r\nimport { Box, Container, Typography, TextField, Button, Grid, Paper, Snackbar, Alert, useTheme } from '@mui/material';\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport { useMessages } from '../context/MessageContext';  // تأكد من المسار الصحيح\r\n\r\nfunction Callus() {\r\n  const theme = useTheme();\r\n  const isDarkMode = theme.palette.mode === 'dark';\r\n  const { addMessage } = useMessages(); // استخدام addMessage من Context\r\n\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n    subject: '',\r\n    message: ''\r\n  });\r\n\r\n  const [errors, setErrors] = useState({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [snackbar, setSnackbar] = useState({\r\n    open: false,\r\n    message: '',\r\n    severity: 'success'\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n\r\n    if (errors[name]) {\r\n      setErrors((prev) => ({\r\n        ...prev,\r\n        [name]: ''\r\n      }));\r\n    }\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n\r\n    if (!formData.name.trim()) {\r\n      newErrors.name = 'الرجاء إدخال الاسم';\r\n    }\r\n\r\n    if (!formData.email.trim()) {\r\n      newErrors.email = 'الرجاء إدخال البريد الإلكتروني';\r\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\r\n      newErrors.email = 'البريد الإلكتروني غير صحيح';\r\n    }\r\n\r\n    if (!formData.phone.trim()) {\r\n      newErrors.phone = 'الرجاء إدخال رقم الجوال';\r\n    } else if (!/^(05|5)[0-9]{8}$/.test(formData.phone.replace(/\\s/g, ''))) {\r\n      newErrors.phone = 'رقم الجوال غير صحيح';\r\n    }\r\n\r\n    if (!formData.subject.trim()) {\r\n      newErrors.subject = 'الرجاء إدخال عنوان الرسالة';\r\n    }\r\n\r\n    if (!formData.message.trim()) {\r\n      newErrors.message = 'الرجاء إدخال نص الرسالة';\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      // Send the message to the server using an HTTP request\r\n      const response = await fetch('/api/send-message', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(formData)\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        addMessage(formData);\r\n\r\n        setSnackbar({\r\n          open: true,\r\n          message: 'تم إرسال رسالتك بنجاح، سنتواصل معك قريباً',\r\n          severity: 'success'\r\n        });\r\n\r\n        setFormData({\r\n          name: '',\r\n          email: '',\r\n          phone: '',\r\n          subject: '',\r\n          message: ''\r\n        });\r\n      } else {\r\n        throw new Error(result.message || 'Failed to send message');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error sending message:', error);\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'عذراً، حدث خطأ أثناء إرسال الرسالة. يرجى المحاولة مرة أخرى',\r\n        severity: 'error'\r\n      });\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleCloseSnackbar = () => {\r\n    setSnackbar((prev) => ({\r\n      ...prev,\r\n      open: false\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ minHeight: '100vh', bgcolor: isDarkMode ? '#202123' : '#f5f5f5', py: 8 }}>\r\n      <Container maxWidth=\"lg\">\r\n        <Typography variant=\"h3\" sx={{ mb: 4, textAlign: 'center' }}>\r\n          تواصل معنا\r\n        </Typography>\r\n        <Grid container spacing={4}>\r\n          <Grid item xs={12} md={8}>\r\n            <Paper elevation={3} sx={{ p: 4 }}>\r\n              <Typography variant=\"h5\" sx={{ mb: 4 }}>أرسل لنا رسالة</Typography>\r\n              <form onSubmit={handleSubmit}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"الاسم\"\r\n                  name=\"name\"\r\n                  variant=\"outlined\"\r\n                  value={formData.name}\r\n                  onChange={handleChange}\r\n                  error={Boolean(errors.name)}\r\n                  helperText={errors.name}\r\n                  sx={{ mb: 3 }}\r\n                />\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"البريد الإلكتروني\"\r\n                  name=\"email\"\r\n                  variant=\"outlined\"\r\n                  value={formData.email}\r\n                  onChange={handleChange}\r\n                  error={Boolean(errors.email)}\r\n                  helperText={errors.email}\r\n                  sx={{ mb: 3 }}\r\n                />\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"رقم الجوال\"\r\n                  name=\"phone\"\r\n                  variant=\"outlined\"\r\n                  value={formData.phone}\r\n                  onChange={handleChange}\r\n                  error={Boolean(errors.phone)}\r\n                  helperText={errors.phone}\r\n                  sx={{ mb: 3 }}\r\n                />\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"عنوان الرسالة\"\r\n                  name=\"subject\"\r\n                  variant=\"outlined\"\r\n                  value={formData.subject}\r\n                  onChange={handleChange}\r\n                  error={Boolean(errors.subject)}\r\n                  helperText={errors.subject}\r\n                  sx={{ mb: 3 }}\r\n                />\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"نص الرسالة\"\r\n                  name=\"message\"\r\n                  variant=\"outlined\"\r\n                  value={formData.message}\r\n                  onChange={handleChange}\r\n                  error={Boolean(errors.message)}\r\n                  helperText={errors.message}\r\n                  multiline\r\n                  rows={4}\r\n                  sx={{ mb: 3 }}\r\n                />\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  type=\"submit\"\r\n                  endIcon={isSubmitting ? null : <SendIcon />}\r\n                  disabled={isSubmitting}\r\n                >\r\n                  {isSubmitting ? 'جاري الإرسال...' : 'إرسال الرسالة'}\r\n                </Button>\r\n              </form>\r\n            </Paper>\r\n          </Grid>\r\n          <Grid item xs={12} md={4}>\r\n            <Paper elevation={3} sx={{ p: 4 }}>\r\n              <Typography variant=\"h5\" sx={{ mb: 2 }}>معلومات التواصل</Typography>\r\n              <Typography sx={{ mb: 1 }}>الهاتف: +966 123 456 789</Typography>\r\n              <Typography sx={{ mb: 1 }}>البريد الإلكتروني: info@example.com</Typography>\r\n              <Typography sx={{ mb: 1 }}>العنوان: شارع الملك فهد، الرياض، السعودية</Typography>\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n\r\n      <Snackbar\r\n        open={snackbar.open}\r\n        autoHideDuration={6000}\r\n        onClose={handleCloseSnackbar}\r\n      >\r\n        <Alert onClose={handleCloseSnackbar} severity={snackbar.severity} sx={{ width: '100%' }}>\r\n          {snackbar.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Callus;"],"names":["createSvgIcon","_jsx","d","isDarkMode","useTheme","palette","mode","addMessage","useMessages","formData","setFormData","useState","name","email","phone","subject","message","errors","setErrors","isSubmitting","setIsSubmitting","snackbar","setSnackbar","open","severity","handleChange","e","value","target","prev","handleCloseSnackbar","_jsxs","Box","sx","minHeight","bgcolor","py","children","Container","maxWidth","Typography","variant","mb","textAlign","Grid","container","spacing","item","xs","md","Paper","elevation","p","onSubmit","async","preventDefault","validateForm","newErrors","trim","test","replace","Object","keys","length","response","fetch","method","headers","body","JSON","stringify","result","json","success","Error","error","console","TextField","fullWidth","label","onChange","Boolean","helperText","multiline","rows","Button","color","type","endIcon","SendIcon","disabled","Snackbar","autoHideDuration","onClose","Alert","width"],"sourceRoot":""}