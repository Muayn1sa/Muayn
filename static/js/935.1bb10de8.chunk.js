"use strict";(self.webpackChunkplayfullovingbinarytree=self.webpackChunkplayfullovingbinarytree||[]).push([[935],{3935:(e,t,r)=>{r.r(t),r.d(t,{default:()=>A});var o=r(5043),s=r(9252),i=r(7353),a=r(4496),n=r(312),l=r(1906),c=r(794),d=r(4194),m=r(3182),u=r(4315);class h{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Network Error";this.status=e,this.text=t}}const p={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!==typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},g=e=>e?"string"===typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},w=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=await fetch(p.origin+e,{method:"POST",headers:r,body:t}),s=await o.text(),i=new h(o.status,s);if(o.ok)return i;throw i},f=(e,t,r)=>{if(!e||"string"!==typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!==typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||"string"!==typeof r)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},b=e=>e.webdriver||!e.languages||0===e.languages.length,y=()=>new h(451,"Unavailable For Headless Browser"),v=(e,t)=>{if((e=>!e.list?.length||!e.watchVariable)(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!==typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const r=(o=t,s=e.watchVariable,o instanceof FormData?o.get(s):o[s]);var o,s;return"string"===typeof r&&e.list.includes(r)},x=()=>new h(403,"Forbidden"),P=async(e,t,r)=>{if(!t.throttle||!r)return!1;((e,t)=>{if("number"!==typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!==typeof t)throw"The LimitRate ID has to be a non-empty string"})(t.throttle,t.id);const o=t.id||e,s=await(async(e,t,r)=>{const o=Number(await r.get(e)||0);return t-Date.now()+o})(o,t.throttle,r);return s>0||(await r.set(o,Date.now().toString()),!1)},j=()=>new h(429,"Too Many Requests"),S=async(e,t,r,o)=>{const s=g(o),i=s.publicKey||p.publicKey,a=s.blockHeadless||p.blockHeadless,n=s.storageProvider||p.storageProvider,l={...p.blockList,...s.blockList},c={...p.limitRate,...s.limitRate};if(a&&b(navigator))return Promise.reject(y());if(f(i,e,t),(e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(r),r&&v(l,r))return Promise.reject(x());if(await P(location.pathname,c,n))return Promise.reject(j());const d={lib_version:"4.4.1",user_id:i,service_id:e,template_id:t,template_params:r};return w("/api/v1.0/email/send",JSON.stringify(d),{"Content-type":"application/json"})};var k=r(579);const A=function(){(0,o.useRef)();const{currentUser:e}=(0,m.A)(),t=(0,u.Zp)(),[r,h]=(0,o.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[p,g]=(0,o.useState)({open:!1,message:"",severity:"success"}),w=e=>{h({...r,[e.target.name]:e.target.value})},f=()=>{g({...p,open:!1})},b={"& .MuiInputBase-root":{height:"auto",color:"white",backgroundColor:"rgba(255, 255, 255, 0.05)"},"& .MuiInputBase-input":{color:"white",direction:"rtl",padding:"16px",textAlign:"right"},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)",right:25,left:"auto",transformOrigin:"right top",position:"absolute"},"& .MuiOutlinedInput-root":{"& fieldset":{border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px"},"&:hover fieldset":{borderColor:"white"},"&.Mui-focused fieldset":{borderColor:"#00A783",borderWidth:"1px"}},"& .MuiOutlinedInput-notchedOutline":{textAlign:"right",direction:"rtl"},marginBottom:"16px"};return(0,k.jsxs)(s.A,{component:"main",maxWidth:"sm",children:[(0,k.jsxs)(i.A,{sx:{marginTop:6,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"rgba(32, 33, 35, 0.5)",borderRadius:"16px",padding:"32px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:[(0,k.jsx)(a.A,{component:"h1",variant:"h4",sx:{color:"white",mb:4,fontWeight:700,fontSize:"2rem"},children:"\u062a\u063a\u064a\u064a\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}),(0,k.jsxs)(i.A,{component:"form",onSubmit:async o=>{if(o.preventDefault(),r.currentPassword&&r.newPassword&&r.confirmPassword?r.newPassword!==r.confirmPassword?(g({open:!0,message:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062c\u062f\u064a\u062f\u0629 \u063a\u064a\u0631 \u0645\u062a\u0637\u0627\u0628\u0642\u0629",severity:"error"}),0):r.newPassword.length<8?(g({open:!0,message:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062c\u062f\u064a\u062f\u0629 \u064a\u062c\u0628 \u0623\u0646 \u062a\u0643\u0648\u0646 8 \u0623\u062d\u0631\u0641 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644",severity:"error"}),0):/[A-Z]/.test(r.newPassword)?/[!@#$%^&*(),.?":{}|<>]/.test(r.newPassword)||(g({open:!0,message:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u064a\u062c\u0628 \u0623\u0646 \u062a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u0631\u0645\u0632 \u062e\u0627\u0635 \u0648\u0627\u062d\u062f \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644",severity:"error"}),0):(g({open:!0,message:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u064a\u062c\u0628 \u0623\u0646 \u062a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u062d\u0631\u0641 \u0643\u0628\u064a\u0631 \u0648\u0627\u062d\u062f \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644",severity:"error"}),0):(g({open:!0,message:"\u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0642\u0648\u0644 \u0645\u0637\u0644\u0648\u0628\u0629",severity:"error"}),0))try{const o=JSON.parse(localStorage.getItem("users")||"[]"),s=o.findIndex((t=>t.email===e.email));if(-1===s)throw new Error("\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f");if(o[s].password!==r.currentPassword)return void g({open:!0,message:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062d\u0627\u0644\u064a\u0629 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u0629",severity:"error"});o[s].password=r.newPassword,localStorage.setItem("users",JSON.stringify(o));const i={...e,password:r.newPassword};localStorage.setItem("currentUser",JSON.stringify(i)),await(async(t,r)=>{try{const o={to_email:t,to_name:e.name,new_password:r};await S("service_9nj0w2d","Temp_m3en_team",o,"-KiITHe5B1-5C3l1k")}catch(o){throw console.error("Error sending email:",o),new Error("\u0641\u0634\u0644 \u0641\u064a \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a")}})(e.email,r.newPassword),g({open:!0,message:"\u062a\u0645 \u062a\u063a\u064a\u064a\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0628\u0646\u062c\u0627\u062d \u0648\u0625\u0631\u0633\u0627\u0644\u0647\u0627 \u0625\u0644\u0649 \u0628\u0631\u064a\u062f\u0643 \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",severity:"success"}),setTimeout((()=>{t("/profile")}),2e3)}catch(s){g({open:!0,message:s.message||"\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u063a\u064a\u064a\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",severity:"error"})}},sx:{width:"100%",mt:1},children:[(0,k.jsx)(n.A,{margin:"normal",required:!0,fullWidth:!0,name:"currentPassword",label:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062d\u0627\u0644\u064a\u0629",type:"password",value:r.currentPassword,onChange:w,sx:b}),(0,k.jsx)(n.A,{margin:"normal",required:!0,fullWidth:!0,name:"newPassword",label:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062c\u062f\u064a\u062f\u0629",type:"password",value:r.newPassword,onChange:w,sx:b}),(0,k.jsx)(n.A,{margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:"\u062a\u0623\u0643\u064a\u062f \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062c\u062f\u064a\u062f\u0629",type:"password",value:r.confirmPassword,onChange:w,sx:b}),(0,k.jsx)(l.A,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,bgcolor:"#00A783","&:hover":{bgcolor:"#009975"}},children:"\u062a\u063a\u064a\u064a\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"})]})]}),(0,k.jsx)(c.A,{open:p.open,autoHideDuration:6e3,onClose:f,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,k.jsx)(d.A,{onClose:f,severity:p.severity,sx:{width:"100%",direction:"rtl"},children:p.message})})]})}}}]);
//# sourceMappingURL=935.1bb10de8.chunk.js.map