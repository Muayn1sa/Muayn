"use strict";(self.webpackChunkplayfullovingbinarytree=self.webpackChunkplayfullovingbinarytree||[]).push([[922],{7922:(e,r,o)=>{o.r(r),o.d(r,{default:()=>b});var t=o(5043),a=o(9252),s=o(7353),i=o(4194),l=o(4600),n=o(1906),c=o(35),d=o(6600),u=o(5316),p=o(9347),x=o(4315),g=o(3182),h=o(6240),m=o(579);const b=function(){const e=(0,x.Zp)(),{login:r,currentUser:o,resetPassword:b}=(0,g.A)(),[f,A]=(0,t.useState)(""),[v,w]=(0,t.useState)(""),[C,j]=(0,t.useState)(!1),[y,k]=(0,t.useState)(""),S="dark"===(0,h.A)().palette.mode,[W,I]=(0,t.useState)({email:"",password:""});t.useEffect((()=>{o&&e("/")}),[o,e]);const M={"& .MuiInputBase-root":{height:"auto",color:S?"white":"#333",backgroundColor:S?"#2A2B32":"#f5f5f5",fontWeight:600,borderRadius:"8px"},"& .MuiInputBase-input":{color:S?"white":"#333",direction:"rtl",padding:"16px",textAlign:"right",fontWeight:600},"& .MuiInputLabel-root":{color:S?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.7)",right:25,left:"auto",transformOrigin:"right top",position:"absolute",fontWeight:600,zIndex:1},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:S?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)",borderRadius:"8px"},"&:hover fieldset":{borderColor:"#147a5c"},"&.Mui-focused fieldset":{borderColor:"#147a5c",borderWidth:"2px"}},marginBottom:"16px"};return(0,m.jsxs)(a.A,{component:"main",maxWidth:"xs",children:[(0,m.jsxs)(s.A,{component:"form",onSubmit:async o=>{if(o.preventDefault(),A(""),W.email&&W.password)try{if(await r(W.email,W.password)){await new Promise((e=>setTimeout(e,1e3)));const r=JSON.parse(localStorage.getItem("currentUser"));r?("\u0634\u0631\u064a\u0643 \u0645\u064f\u0639\u064a\u0646"===r.subscription&&console.log("User has \u0634\u0631\u064a\u0643 \u0645\u064f\u0639\u064a\u0646 membership"),e("/",{replace:!0})):A("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644")}else A("\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u0623\u0648 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d\u0629")}catch(t){console.error("Login error:",t),A("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644")}else A("\u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u062c\u0645\u064a\u0639 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629")},sx:{marginTop:12,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:S?"rgba(18, 18, 18, 0.8)":"rgba(255, 255, 255, 0.8)",padding:4,borderRadius:2,backdropFilter:"blur(10px)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)"},children:[f&&(0,m.jsx)(i.A,{severity:"error",sx:{width:"100%",mb:2},children:f}),(0,m.jsx)(l.A,{margin:"normal",required:!0,fullWidth:!0,label:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",name:"email",autoComplete:"email",autoFocus:!0,value:W.email,onChange:e=>I({...W,email:e.target.value}),sx:M}),(0,m.jsx)(l.A,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",type:"password",autoComplete:"current-password",value:W.password,onChange:e=>I({...W,password:e.target.value}),sx:M}),(0,m.jsx)(n.A,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,bgcolor:"#147a5c",fontSize:{xs:"1rem",sm:"1.1rem"},py:{xs:1.5,sm:2},"&:hover":{bgcolor:"#0d8c6d"}},children:"\u062f\u062e\u0648\u0644"}),(0,m.jsxs)(s.A,{sx:{width:"100%",display:"flex",flexDirection:"column",gap:1},children:[(0,m.jsx)(n.A,{component:x.N_,to:"/register",fullWidth:!0,variant:"outlined",sx:{color:"#147a5c",borderColor:"#147a5c","&:hover":{borderColor:"#0d8c6d",bgcolor:"rgba(20, 122, 92, 0.1)"}},children:"\u062a\u0633\u062c\u064a\u0644 \u062d\u0633\u0627\u0628 \u062c\u062f\u064a\u062f"}),(0,m.jsx)(n.A,{onClick:()=>j(!0),sx:{color:"#147a5c","&:hover":{bgcolor:"rgba(20, 122, 92, 0.1)"}},children:"\u0646\u0633\u064a\u062a \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631\u061f"})]})]}),(0,m.jsxs)(c.A,{open:C,onClose:()=>j(!1),children:[(0,m.jsx)(d.A,{sx:{textAlign:"center"},children:"\u0627\u0633\u062a\u0639\u0627\u062f\u0629 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}),(0,m.jsxs)(u.A,{children:[(0,m.jsx)(l.A,{autoFocus:!0,margin:"dense",label:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",type:"email",fullWidth:!0,value:v,onChange:e=>w(e.target.value),sx:M}),y&&(0,m.jsx)(i.A,{severity:y.includes("\u062e\u0637\u0623")?"error":"success",sx:{mt:2},children:y})]}),(0,m.jsxs)(p.A,{sx:{justifyContent:"center",pb:3},children:[(0,m.jsx)(n.A,{onClick:()=>j(!1),sx:{color:"#666"},children:"\u0625\u0644\u063a\u0627\u0621"}),(0,m.jsx)(n.A,{onClick:async()=>{try{await b(v),k("\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0631\u0627\u0628\u0637 \u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0625\u0644\u0649 \u0628\u0631\u064a\u062f\u0643 \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a"),setTimeout((()=>{j(!1),k("")}),3e3)}catch(f){k("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0625\u0631\u0633\u0627\u0644 \u0631\u0627\u0628\u0637 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u062a\u0639\u064a\u064a\u0646")}},variant:"contained",sx:{bgcolor:"#147a5c","&:hover":{bgcolor:"#0d8c6d"}},children:"\u0625\u0631\u0633\u0627\u0644 \u0631\u0627\u0628\u0637 \u0627\u0644\u0627\u0633\u062a\u0639\u0627\u062f\u0629"})]})]})]})}}}]);
//# sourceMappingURL=922.b14fd891.chunk.js.map