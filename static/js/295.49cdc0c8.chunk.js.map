{"version":3,"file":"static/js/295.49cdc0c8.chunk.js","mappings":"sQA2EA,QAtEA,WACE,MAAM,YAAEA,IAAgBC,EAAAA,EAAAA,MACjBC,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,KAC1BC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,EAAOC,IAAYJ,EAAAA,EAAAA,UAAS,IA+BnC,OA7BAK,EAAAA,EAAAA,YAAU,KACUC,WAChB,IACE,IAAKV,EAGH,OAFAQ,EAAS,gCACTF,GAAW,GAIb,MAAMK,QAAiBC,EAAAA,EAAMC,IAAI,iCAAkC,CACjEC,OAAQ,CAAEC,OAAQf,EAAYe,UAG5BJ,EAASK,KAAKC,QAChBd,EAAQQ,EAASK,KAAKd,MAEtBM,EAAS,wBAEb,CAAE,MAAOU,GACPC,QAAQZ,MAAM,uBAAwBW,GACtCV,EAAS,uBACX,CAAC,QACCF,GAAW,EACb,GAGFc,EAAW,GACV,CAACpB,KAGFqB,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,GAAI,CAAEC,EAAG,GAAIC,SAAA,EAChBC,EAAAA,EAAAA,KAACC,EAAAA,EAAU,CAACC,QAAQ,KAAKL,GAAI,CAAEM,GAAI,EAAGC,UAAW,UAAWL,SAAC,6GAG5DpB,GACCqB,EAAAA,EAAAA,KAACK,EAAAA,EAAgB,IACfxB,GACFmB,EAAAA,EAAAA,KAACC,EAAAA,EAAU,CAACK,MAAM,QAAOP,SAAElB,KAE3BmB,EAAAA,EAAAA,KAACO,EAAAA,EAAI,CAAAR,SACFvB,EAAKgC,KAAI,CAACC,EAAKC,KACdV,EAAAA,EAAAA,KAACW,EAAAA,GAAQ,CAAad,GAAI,CAAEM,GAAI,EAAGS,OAAQ,iBAAkBC,aAAc,GAAId,UAC7EC,EAAAA,EAAAA,KAACc,EAAAA,EAAY,CACXC,QAASN,EAAIO,MACbC,WACEtB,EAAAA,EAAAA,MAAAuB,EAAAA,SAAA,CAAAnB,SAAA,EACEJ,EAAAA,EAAAA,MAACM,EAAAA,EAAU,CAACkB,UAAU,OAAOjB,QAAQ,QAAQI,MAAM,gBAAeP,SAAA,CAC/DU,EAAIW,QAAQ,MAAIX,EAAIY,aAEvBrB,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAACC,EAAAA,EAAU,CAACkB,UAAU,OAAOjB,QAAQ,QAAQI,MAAM,gBAAeP,SAC/DU,EAAIa,oBAVAZ,SAqB3B,C","sources":["components/Works.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Box, Typography, List, ListItem, ListItemText, CircularProgress } from '@mui/material';\r\nimport axios from 'axios';\r\nimport { useAuth } from '../auth/AuthContext'; // Import useAuth to access currentUser\r\n\r\nfunction Works() {\r\n  const { currentUser } = useAuth(); // Access currentUser from auth context\r\n  const [jobs, setJobs] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchJobs = async () => {\r\n      try {\r\n        if (!currentUser) {\r\n          setError('User not authenticated.');\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n        const response = await axios.get('http://localhost:3001/api/jobs', {\r\n          params: { skills: currentUser.skills }\r\n        });\r\n\r\n        if (response.data.success) {\r\n          setJobs(response.data.jobs);\r\n        } else {\r\n          setError('Failed to fetch jobs.');\r\n        }\r\n      } catch (err) {\r\n        console.error('Error fetching jobs:', err);\r\n        setError('Error fetching jobs.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchJobs();\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <Box sx={{ p: 4 }}>\r\n      <Typography variant=\"h4\" sx={{ mb: 4, textAlign: 'center' }}>\r\n        الوظائف المناسبة لك\r\n      </Typography>\r\n      {loading ? (\r\n        <CircularProgress />\r\n      ) : error ? (\r\n        <Typography color=\"error\">{error}</Typography>\r\n      ) : (\r\n        <List>\r\n          {jobs.map((job, index) => (\r\n            <ListItem key={index} sx={{ mb: 2, border: '1px solid #ccc', borderRadius: 2 }}>\r\n              <ListItemText\r\n                primary={job.title}\r\n                secondary={\r\n                  <>\r\n                    <Typography component=\"span\" variant=\"body2\" color=\"textSecondary\">\r\n                      {job.company} - {job.location}\r\n                    </Typography>\r\n                    <br />\r\n                    <Typography component=\"span\" variant=\"body2\" color=\"textSecondary\">\r\n                      {job.description}\r\n                    </Typography>\r\n                  </>\r\n                }\r\n              />\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      )}\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Works;"],"names":["currentUser","useAuth","jobs","setJobs","useState","loading","setLoading","error","setError","useEffect","async","response","axios","get","params","skills","data","success","err","console","fetchJobs","_jsxs","Box","sx","p","children","_jsx","Typography","variant","mb","textAlign","CircularProgress","color","List","map","job","index","ListItem","border","borderRadius","ListItemText","primary","title","secondary","_Fragment","component","company","location","description"],"sourceRoot":""}